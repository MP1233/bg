<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - adaptive tone-mapping</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="https://threejs.org/examples/main.css">
		<style>
			.label {
				background-color: black;
				position: absolute;
				z-index: 100;
				padding: 5px
			}
		</style>
	</head>

	<body>
		<div id="d">



		</div>

		<script type="module">

			import * as THREE from 'https://threejs.org/build/three.module.js';


			import { OrbitControls } from 'https://threejs.org/examples/jsm/controls/OrbitControls.js';
			import { EffectComposer } from 'https://threejs.org/examples/jsm/postprocessing/EffectComposer.js';
			import { RenderPass } from 'https://threejs.org/examples/jsm/postprocessing/RenderPass.js';
			import { ShaderPass } from 'https://threejs.org/examples/jsm/postprocessing/ShaderPass.js';
			import { AdaptiveToneMappingPass } from 'https://threejs.org/examples/jsm/postprocessing/AdaptiveToneMappingPass.js';
			import { BloomPass } from 'https://threejs.org/examples/jsm/postprocessing/BloomPass.js';
			import { GammaCorrectionShader } from 'https://threejs.org/examples/jsm/shaders/GammaCorrectionShader.js';

var TimerMultiply = 1000
var OrbitRadiusMultiply = 0.001
var PlanetRadiusMultiply = 0.02
var FlightTime = 100 ; 
var FlightTimeToDestination = 0 ; 

var UserLocation = {planet:"Saturn", lat:0, lon:0}
var PrevUserLocation = {planet:"Saturn", lat:0, lon:0}

var PLANETS_XYZ = {}
var PLANETS_DATA = {
	Sun: {Texture:"https://mp1233.github.io/bg/img/sun.jpg", size:{radius:695000}, orbit:{radius:0}, rotates_around:0},
	Mercury: {Texture:"https://mp1233.github.io/bg/img/mercury.jpg", size:{radius:2439.7}, orbit:{radius:57910000, period:(3600*24*87.969)}, rotates_around:"Sun"},
	Venus: {Texture:"https://mp1233.github.io/bg/img/venus.jpg", size:{radius:6051.8}, orbit:{radius:108200000, period:(3600*24*224.701)}, rotates_around:"Sun"},
	Earth: {Texture:"https://mp1233.github.io/bg/img/earth.jpg", size:{radius:6378.14}, orbit:{radius:149600000, period:(3600*24*365.256)}, rotates_around:"Sun"},
	Mars: {Texture:"https://mp1233.github.io/bg/img/mars.jpg", size:{radius:3397.2}, orbit:{radius:227940000, period:(3600*24*686.98)}, rotates_around:"Sun"},
	Jupiter: {Texture:"https://mp1233.github.io/bg/img/jupiter.gif", size:{radius:71492}, orbit:{radius:778330000, period:(3600*24*4332.71)}, rotates_around:"Sun"},
	Saturn: {Texture:"https://mp1233.github.io/bg/img/saturn.jpg", size:{radius:60268}, orbit:{radius:1426940000, period:(3600*24*10759.5)}, rotates_around:"Sun"},
	Uranus: {Texture:"https://mp1233.github.io/bg/img/uranus.jpg", size:{radius:25559}, orbit:{radius:2870990000, period:(3600*24*30685.0)}, rotates_around:"Sun"},
	Neptune: {Texture:"https://mp1233.github.io/bg/img/neptune.jpg", size:{radius:24764}, orbit:{radius:3107070000, period:(3600*24*60190.0)}, rotates_around:"Sun"},
	PlutoSystem: {Texture:"https://mp1233.github.io/bg/img/pluto.jpg", size:{radius:0.1}, orbit:{radius:5913520000, period:(3600*24*90800.0)}, rotates_around:"Sun"},

/*AddSolarPlanettoDB("Mercury",&Sun,(3600*24*87.969),57910000,7.004,77.45645,48.33167,0.20563,EpochDifferenceinSeconds,252.25084,0xffff8888,2439.7,58.646200,2,
					  g_pMercuryTexture,NULL,g_pMercuryMediumTexture,NULL,NULL,1) ;
AddSolarPlanettoDB("Venus",&Sun,(3600*24*224.701),108200000,3.394,131.53298,76.68069,0.0068,EpochDifferenceinSeconds,181.97973,0xffffff33,6051.8,243.018700,177.3,
					g_pVenusTexture,NULL,g_pVenusMediumTexture,NULL,NULL,1,1-(1/110000),g_pVenusAtmosphereTexture) ;
AddSolarPlanettoDB("Earth",&Sun,(3600*24*365.256),149600000,0,102.94719,-11.26064,0.01671,EpochDifferenceinSeconds,100.46435,0xff0000ff,6378.14,0.997270,23.45,
					g_pEarthTexture,NULL,g_pEarthMediumTexture,NULL,NULL,1,1-(1/298.257),g_pEarthAtmosphereTexture) ;
AddSolarPlanettoDB("Mars",&Sun,(3600*24*686.98),227940000,1.85,336.04084,49.57854,0.09341,EpochDifferenceinSeconds,355.45332,0xffff0000,3397.2,1.025957,23.98,
				   g_pMarsTexture,NULL,g_pMarsMediumTexture,NULL,NULL,1,1-(1/135.13),g_pMarsAtmosphereTexture) ;
AddSolarPlanettoDB("Jupiter",&Sun,(3600*24*4332.71),778330000,1.308,14.75385,100.55615,0.04845,EpochDifferenceinSeconds,34.40438,RGB(250,150,0),71492,0.413540,3.12,
					  g_pJupiterTexture,NULL,g_pJupiterMediumTexture,NULL,NULL,1,1-(1/15.415),g_pJupiterAtmosphereTexture) ;
AddSolarPlanettoDB("Saturn",&Sun,(3600*24*10759.5),1426940000,2.488,92.43194,113.71504,0.05307,EpochDifferenceinSeconds,49.94432,RGB(150,50,150),60268,0.444010,26.73,
					 g_pSaturnTexture,NULL,g_pSaturnMediumTexture,NULL,NULL,1,1-(1/10.208),g_pSaturnAtmosphereTexture) ;
AddSolarPlanettoDB("Uranus",&Sun,(3600*24*30685.0),2870990000,0.774,170.96424,74.22988,0.04298,EpochDifferenceinSeconds,313.23218,RGB(200,200,250),25559,0.718330,97.86,
					 g_pUranusTexture,NULL,g_pUranusMediumTexture,NULL,NULL,1,1-(1/43.611),g_pUranusAtmosphereTexture) ;
AddSolarPlanettoDB("Neptune",&Sun,(3600*24*60190.0),3107070000,1.774,44.97135,131.72169,0.01018,EpochDifferenceinSeconds,304.88003,RGB(100,100,250),24764,0.671250,29.56,
					  g_pNeptuneTexture,NULL,g_pNeptuneMediumTexture,NULL,NULL,1,1-(1/58.479),g_pNeptuneAtmosphereTexture) ;
AddSolarPlanettoDB("Pluto system",&Sun,(3600*24*90800.0),5913520000,17.148,224.06676,110.30347,0.25018,EpochDifferenceinSeconds,238.92881,RGB(100,100,100),0,1,0,
					  NULL,NULL,NULL,NULL,NULL,1) ;
*/


	Moon:{Texture:"https://mp1233.github.io/bg/img/moon.jpg", size:{radius:1738.1}, orbit:{radius:384400, period:(3600*24*27.322)}, rotates_around:"Earth"},


/*
AddSolarPlanettoDB("Moon",GetPlanetByName(&planetanchor,"Earth"),(3600*24*27.322),384400,5.145,318.15,125.08,0.0554,EpochDifferenceinSeconds,135.27,
				   0xff0000ff,1738.1,0,0,g_pMoonTexture,NULL,g_pMoonMediumTexture,NULL,NULL,0) ;
UPlanet * hooked = GetPlanetByName(&planetanchor,"Earth") ;
*/

	Phobos:{Texture:"https://mp1233.github.io/bg/img/phobos.jpg", size:{radius:13.4}, orbit:{radius:9378, period:(3600*24*0.31891)}, rotates_around:"Mars"},
	Deimos:{Texture:"https://mp1233.github.io/bg/img/demos.jpg", size:{radius:7.5}, orbit:{radius:23459, period:(3600*24*1.26244)}, rotates_around:"Mars"},
/*
AddSolarPlanettoDB("Phobos",GetPlanetByName(&planetanchor,"Mars"),(3600*24*0.31891),9378,1.08,150.247,164.931,0.0151,GetEpochDifferenceinSeconds(1950,1,1),92.474,
					 0xffff0000,13.4,0,0,g_pPhobosTexture,Phobos_Small_Heights,g_pPhobosMediumTexture,Phobos_Large_Heights,NULL,0) ;
AddSolarPlanettoDB("Deimos",GetPlanetByName(&planetanchor,"Mars"),(3600*24*1.26244),23459,1.79,290.496,339.600,0.0002,GetEpochDifferenceinSeconds(1950,1,1),296.230,
					 0xffff0000,7.5,0,0,g_pDeimosTexture,Deimos_Small_Heights,g_pDeimosMediumTexture,Deimos_Large_Heights,NULL,0) ;
					 */

	Metis:{Texture:"https://mp1233.github.io/bg/img/metis.jpg", size:{radius:20}, orbit:{radius:128100, period:(3600*24*0.294779)}, rotates_around:"Jupiter"},
Adrastea:{Texture:"https://mp1233.github.io/bg/img/adrastea.jpg", size:{radius:13}, orbit:{radius:128900, period:(3600*24*0.298260)}, rotates_around:"Jupiter"},
Amalthea:{Texture:"https://mp1233.github.io/bg/img/amalthea.jpg", size:{radius:131}, orbit:{radius:181400, period:(3600*24*0.498179)}, rotates_around:"Jupiter"},
Thebe:{Texture:"https://mp1233.github.io/bg/img/thebe.jpg", size:{radius:55}, orbit:{radius:221900, period:(3600*24*0.6745)}, rotates_around:"Jupiter"},
Io:{Texture:"https://mp1233.github.io/bg/img/io.jpg", size:{radius:1821.6}, orbit:{radius:421800, period:(3600*24*1.769138)}, rotates_around:"Jupiter"},
Europa:{Texture:"https://mp1233.github.io/bg/img/europa.jpg", size:{radius:1560.8}, orbit:{radius:671100, period:(3600*24*3.551181)}, rotates_around:"Jupiter"},
Ganymede:{Texture:"https://mp1233.github.io/bg/img/ganymede.jpg", size:{radius:2631.2}, orbit:{radius:1070400, period:(3600*24*7.154553)}, rotates_around:"Jupiter"},
Callisto:{Texture:"https://mp1233.github.io/bg/img/callisto.jpg", size:{radius:2410.3}, orbit:{radius:1882700, period:(3600*24*16.689018)}, rotates_around:"Jupiter"},
Himalia:{Texture:"https://mp1233.github.io/bg/img/himalia.jpg", size:{radius:85}, orbit:{radius:11461000, period:(3600*24*250.6)}, rotates_around:"Jupiter"},

					 /*

AddSolarPlanettoDB("Metis",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*0.294779),128100,0.021,297.177,146.912,0.0002,GetEpochDifferenceinSeconds(1997,1,16),276.047,
					RGB(0,250,250),20)  ;
AddSolarPlanettoDB("Adrastea",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*0.298260),128900,0.027,328.047,228.378,0.0015,GetEpochDifferenceinSeconds(1997,1,16),135.673,
					   RGB(0,250,250),13)  ;
AddSolarPlanettoDB("Amalthea",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*0.498179),181400,0.389,147.025,112.472,0.003,GetEpochDifferenceinSeconds(1997,1,16),190.516,
					   RGB(0,250,250),131,0,0,g_pAmaltheaTexture,Amalthea_Small_Heights,g_pAmaltheaMediumTexture,Amalthea_Large_Heights)  ;
AddSolarPlanettoDB("Thebe",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*0.6745),221900,1.070,233.544,235.925,0.018,GetEpochDifferenceinSeconds(1997,1,16),136.441,
					RGB(0,250,250),55)  ;
AddSolarPlanettoDB("Io",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*1.769138),421800,0.036,83.898,44.208,0.004,GetEpochDifferenceinSeconds(1997,1,16),342.021,
				 RGB(0,250,250),1821.6,0,0,g_pIoTexture,NULL,g_pIoMediumTexture)  ;
AddSolarPlanettoDB("Europa",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*3.551181),671100,0.467,88.684,219.383,0.0101,GetEpochDifferenceinSeconds(1997,1,16),171.016,
					 RGB(0,250,250),1560.8,0,0,g_pEuropaTexture,NULL,g_pEuropaMediumTexture)  ;
AddSolarPlanettoDB("Ganymede",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*7.154553),1070400,0.172,203.214,63.692,0.0015,GetEpochDifferenceinSeconds(1997,1,16),306.589,
					   RGB(0,250,250),2631.2,0,0,g_pGanymedeTexture,NULL,g_pGanymedeMediumTexture)  ;
AddSolarPlanettoDB("Callisto",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*16.689018),1882700,0.307,57.714,294.195,0.007,GetEpochDifferenceinSeconds(1997,1,16),180.997,
					   RGB(0,250,250),2410.3,0,0,g_pCallistoTexture,NULL,g_pCallistoMediumTexture)  ;
AddSolarPlanettoDB("Themisto",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*130.02),7507000,43.08,219.265,189.234,0.242,GetEpochDifferenceinSeconds(2002,5,6),161.960,
	 RGB(0,250,250),4)  ;
AddSolarPlanettoDB("Leda",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*240.9),11165000,27.46,272.349,217.137,0.164,EpochDifferenceinSeconds,228.076,
	 RGB(0,250,250),5)  ;
AddSolarPlanettoDB("Himalia",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*250.6),11461000,27.50,331.995,57.245,0.162,EpochDifferenceinSeconds,68.721,
	 RGB(0,250,250),85,0.4)  ;
AddSolarPlanettoDB("Lysithea",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*259.2),11717000,28.30,49.486,5.528,0.112,EpochDifferenceinSeconds,329.121,
	 RGB(0,250,250),12)  ;
AddSolarPlanettoDB("Elara",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*259.6),11741000,26.63,143.591,109.373,0.217,EpochDifferenceinSeconds,332.962,
	 RGB(0,250,250),40,0.5)  ;
AddSolarPlanettoDB("S2000_J11",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*287.0),12555000,28.30,0,0,0.248,EpochDifferenceinSeconds,169.9,
	 RGB(0,250,250),2.0)  ;
AddSolarPlanettoDB("Euporie",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*550.7),19302000,145.8,89.231,62.671,0.144,GetEpochDifferenceinSeconds(2002,5,6),145.767,
	 RGB(0,250,250),1.0)  ;
AddSolarPlanettoDB("Orthosie",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*622.6),20721000,145.9,222.682,226.608,0.281,GetEpochDifferenceinSeconds(2002,5,6),145.921,
	 RGB(0,250,250),1.0)  ;
AddSolarPlanettoDB("Euanthe",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*620.6),20799000,148.9,325.459,258.578,0.232,GetEpochDifferenceinSeconds(2002,5,6),148.910,
	 RGB(0,250,250),1.5)  ;
AddSolarPlanettoDB("Thyone",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*627.3),20940000,148.5,101.517,237.437,0.229,GetEpochDifferenceinSeconds(2002,5,6),148.509,
	 RGB(0,250,250),2.0)  ;
AddSolarPlanettoDB("Harpalyke",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*623.3),21105000,148.6,140.546,34.185,0.226,GetEpochDifferenceinSeconds(2002,5,6),351.612,
	 RGB(0,250,250),2.2)  ;
AddSolarPlanettoDB("Hermippe",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*633.9),21131000,150.7,308.199,335.424,0.210,GetEpochDifferenceinSeconds(2002,5,6),150.725,
	 RGB(0,250,250),2.0)  ;
AddSolarPlanettoDB("Praxidike",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*625.3),21147000,149.0,196.490,284.987,0.230,GetEpochDifferenceinSeconds(2002,5,6),251.909,
	 RGB(0,250,250),3.4)  ;
AddSolarPlanettoDB("Iocaste",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*631.5),21269000,149.4,68.729,274.109,0.216,GetEpochDifferenceinSeconds(2002,5,6),345.753,
	 RGB(0,250,250),2.6)  ;
AddSolarPlanettoDB("Ananke",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*610.5),21276000,148.9,100.619,7.615,0.244,EpochDifferenceinSeconds,248.793,
	 RGB(0,250,250),10)  ;
AddSolarPlanettoDB("S2002_J1",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*723.9),22931000,165.0,182.824,349.907,0.259,GetEpochDifferenceinSeconds(2002,5,6),165.001,
	 RGB(0,250,250),1.5)  ;
AddSolarPlanettoDB("Pasithee",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*719.5),23096000,165.1,241.461,333.554,0.267,GetEpochDifferenceinSeconds(2002,5,6),165.138,
	 RGB(0,250,250),1.0)  ;
AddSolarPlanettoDB("Chaldene",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*723.8),23179000,165.2,255.684,141.901,0.251,GetEpochDifferenceinSeconds(2002,5,6),330.698,
	 RGB(0,250,250),1.9)  ;
AddSolarPlanettoDB("Kale",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*729.5),23217000,165.0,52.377,64.620,0.260,GetEpochDifferenceinSeconds(2002,5,6),164.996,
	 RGB(0,250,250),1.0)  ;
AddSolarPlanettoDB("Isonoe",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*725.5),23217000,165.2,124.944,135.459,0.246,GetEpochDifferenceinSeconds(2002,5,6),186.847,
	 RGB(0,250,250),1.9)  ;
AddSolarPlanettoDB("Aitne",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*730.2),23231000,165.1,110.677,15.915,0.264,GetEpochDifferenceinSeconds(2002,5,6),165.091,
	 RGB(0,250,250),1.5)  ;
AddSolarPlanettoDB("Erinome",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*728.3),23279000,164.9,20.092,323.450,0.266,GetEpochDifferenceinSeconds(2002,5,6),326.133,
	 RGB(0,250,250),1.6)  ;
AddSolarPlanettoDB("Taygete",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*732.2),23360000,165.2,239.961,310.097,0.252,GetEpochDifferenceinSeconds(2002,5,6),154.215,
	 RGB(0,250,250),2.5)  ;
AddSolarPlanettoDB("Carme",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*702.3),23404000,164.9,28.199,113.738,0.253,EpochDifferenceinSeconds,234.027,
	 RGB(0,250,250),15)  ;
AddSolarPlanettoDB("Kalyke",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*743.0),23583000,165.2,232.520,52.765,0.245,GetEpochDifferenceinSeconds(2002,5,6),311.370,
	 RGB(0,250,250),2.6)  ;
AddSolarPlanettoDB("Eurydome",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*717.3),22865000,150.3,231.789,308.853,0.276,GetEpochDifferenceinSeconds(2002,5,6),150.274,
	 RGB(0,250,250),1.5)  ;
AddSolarPlanettoDB("Autonoe",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*762.7),23039000,152.9,59.247,277.139,0.334,GetEpochDifferenceinSeconds(2002,5,6),152.416,
	 RGB(0,250,250),2.0)  ;
AddSolarPlanettoDB("Sponde",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*748.3),23487000,151.0,71.674,123.963,0.312,GetEpochDifferenceinSeconds(2002,5,6),150.998,
	 RGB(0,250,250),1.0)  ;
AddSolarPlanettoDB("Pasiphae",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*708.0),23624000,151.4,170.450,312.990,0.409,EpochDifferenceinSeconds,280.193,
	 RGB(0,250,250),18)  ;
AddSolarPlanettoDB("Megaclite",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*752.8),23806000,152.8,287.911,283.941,0.421,GetEpochDifferenceinSeconds(2002,5,6),189.231,
	 RGB(0,250,250),2.7)  ;
AddSolarPlanettoDB("Sinope",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*724.5),23939000,158.1,346.394,303.081,0.250,EpochDifferenceinSeconds,168.397,
	 RGB(0,250,250),14)  ;
AddSolarPlanettoDB("Callirrhoe",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*758.8),24102000,147.1,30.493,289.181,0.283,GetEpochDifferenceinSeconds(2002,5,6),152.758,
	 RGB(0,250,250),4)  ;
AddSolarPlanettoDB("S2003_J1",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*781.6),24557295,163.4,325.618,206.275,0.345,GetEpochDifferenceinSeconds(2003,1,10),98.368,
	 RGB(0,250,250),4.0)  ;
AddSolarPlanettoDB("S2003_J2",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*982.5),28570410,151.8,78.911,217.735,0.380,GetEpochDifferenceinSeconds(2003,1,10),285.963,
	 RGB(0,250,250),2.0)  ;
AddSolarPlanettoDB("S2003_J3",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*504.0),18339885,143.7,72.755,240.172,0.241,GetEpochDifferenceinSeconds(2003,1,10),9.291,
	 RGB(0,250,250),2.0)  ;
AddSolarPlanettoDB("S2003_J4",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*723.2),23257920,144.9,210.050,192.434,0.204,GetEpochDifferenceinSeconds(2003,1,10),140.119,
	 RGB(0,250,250),2.0)  ;
AddSolarPlanettoDB("S2003_J5",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*759.7),24084180,165.0,103.587,188.588,0.210,GetEpochDifferenceinSeconds(2003,1,10),228.836,
	 RGB(0,250,250),4.0)  ;
AddSolarPlanettoDB("S2003_J6",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*617.3),20979105,156.1,314.676,100.286,0.157,GetEpochDifferenceinSeconds(2003,1,10),36.241,
	 RGB(0,250,250),4)  ;
AddSolarPlanettoDB("S2003_J7",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*748.8),23807655,159.4,74.488,187.053,0.405,GetEpochDifferenceinSeconds(2003,1,10),73.962,
	 RGB(0,250,250),4)  ;
AddSolarPlanettoDB("S2003_J8",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*781.6),24514095,152.6,237.944,343.773,0.264,GetEpochDifferenceinSeconds(2003,1,10),122.921,
	 RGB(0,250,250),3.0)  ;
AddSolarPlanettoDB("S2003_J9",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*683.0),22441680,164.5,306.249,56.234,0.269,GetEpochDifferenceinSeconds(2003,1,10),244.800,
	 RGB(0,250,250),1)  ;
AddSolarPlanettoDB("S2003_J10",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*767.0),24249600,164.1,188.404,166.779,0.214,GetEpochDifferenceinSeconds(2003,1,10),168.466,
	 RGB(0,250,250),2)  ;
AddSolarPlanettoDB("S2003_J11",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*683.0),22395390,163.9,18.487,41.464,0.223,GetEpochDifferenceinSeconds(2003,1,10),319.445,
	 RGB(0,250,250),2)  ;
AddSolarPlanettoDB("S2003_J12",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*533.3),19002480,145.8,23.441,75.960,0.376,GetEpochDifferenceinSeconds(2003,1,10),269.102,
	 RGB(0,250,250),1)  ;
AddSolarPlanettoDB("S2003_J13",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*737.8),24000000,141.0,213.997,266.392,0.412,GetEpochDifferenceinSeconds(2003,1,10),0.383,
	 RGB(0,250,250),2)  ;
AddSolarPlanettoDB("S2003_J14",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*807.8),25000000,140.9,143.845,324.627,0.222,GetEpochDifferenceinSeconds(2003,1,10),297.479,
	 RGB(0,250,250),2)  ;
AddSolarPlanettoDB("S2003_J15",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*668.4),22000000,140.8,24.461, 248.246 ,0.110,GetEpochDifferenceinSeconds(2003,1,10),359.759,
	 RGB(0,250,250),2)  ;
AddSolarPlanettoDB("S2003_J16",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*595.4),21000000,148.6,66.509,27.618,0.270,GetEpochDifferenceinSeconds(2003,1,10),316.221,
	 RGB(0,250,250),2)  ;
AddSolarPlanettoDB("S2003_J17",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*690.3),22000000,163.7,348.828,309.852,0.190,GetEpochDifferenceinSeconds(2003,1,10),34.055,
	 RGB(0,250,250),2)  ;
AddSolarPlanettoDB("S2003_J18",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*606.3),20700000,146.5,354.469,166.160,0.119,GetEpochDifferenceinSeconds(2003,1,10),22.784,
	 RGB(0,250,250),2)  ;
AddSolarPlanettoDB("S2003_J19",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*701.3),22800000,162.9,191.881,41.272,0.334,GetEpochDifferenceinSeconds(2003,1,10),112.512,
	 RGB(0,250,250),2)  ;
AddSolarPlanettoDB("S2003_J20",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*456.5),17100000,55.1,90.045,60.948,0.295,GetEpochDifferenceinSeconds(2003,1,10),242.806,
	 RGB(0,250,250),3)  ;
AddSolarPlanettoDB("S2003_J21",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*599.0),20600000,148.0,41.731,18.056,0.208,GetEpochDifferenceinSeconds(2003,1,10),338.899,
	 RGB(0,250,250),2)  ;
AddSolarPlanettoDB("S2003_J22",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*601.0),20700000,151.1,179.757,206.152,0.233,GetEpochDifferenceinSeconds(2003,1,10),194.024,
	 RGB(0,250,250),2)  ;
AddSolarPlanettoDB("S2003_J23",GetPlanetByName(&planetanchor,"Jupiter"),(3600*24*759.7),24055500,149.2,259.087,47.420,0.309,GetEpochDifferenceinSeconds(2003,1,10),148.832,
	 RGB(0,250,250),2)  ;

*/

	Mimas:{Texture:"https://mp1233.github.io/bg/img/mimas.jpg", size:{radius:209}, orbit:{radius:185520, period:(3600*24*0.9424218)}, rotates_around:"Saturn"},
	Enceladus:{Texture:"https://mp1233.github.io/bg/img/enceladus.jpg", size:{radius:256}, orbit:{radius:238020, period:(3600*24*1.370218)}, rotates_around:"Saturn"},
	Tethys:{Texture:"https://mp1233.github.io/bg/img/tethys.jpg", size:{radius:536}, orbit:{radius:294660, period:(3600*24*1.887802)}, rotates_around:"Saturn"},
	Dione:{Texture:"https://mp1233.github.io/bg/img/dione.jpg", size:{radius:560}, orbit:{radius:377400, period:(3600*24*2.736915)}, rotates_around:"Saturn"},
	Rhea:{Texture:"https://mp1233.github.io/bg/img/rhea.jpg", size:{radius:764}, orbit:{radius:527040, period:(3600*24*4.517500)}, rotates_around:"Saturn"},
	Titan:{Texture:"https://mp1233.github.io/bg/img/titan.jpg", size:{radius:2575}, orbit:{radius:1221830, period:(3600*24*15.945421)}, rotates_around:"Saturn"},
	Hyperion:{Texture:"https://mp1233.github.io/bg/img/hyperion.jpg", size:{radius:185}, orbit:{radius:1481100, period:(3600*24*21.276609)}, rotates_around:"Saturn"},
	Iapetus:{Texture:"https://mp1233.github.io/bg/img/iapetus.jpg", size:{radius:718}, orbit:{radius:3561300, period:(3600*24*79.330183)}, rotates_around:"Saturn"},
		

		
				

								




/*

 AddSolarPlanettoDB("Mimas",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*0.9424218),185520,1.53,322.864,177.457,0.0202,GetEpochDifferenceinSeconds(1999,1,1),100.173,
					RGB(150,50,150),209,0,0,g_pMimasTexture,NULL,g_pMimasMediumTexture)  ;
 AddSolarPlanettoDB("Enceladus",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*1.370218),238020,0,334.689,137.077,0.0045,GetEpochDifferenceinSeconds(1999,1,1),162.044,
						RGB(150,50,150),256,0,0,g_pEnceladusTexture,NULL,g_pEnceladusMediumTexture)  ;
 AddSolarPlanettoDB("Tethys",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*1.887802),294660,1.86,149.166,149.174,0.0000,GetEpochDifferenceinSeconds(1999,1,1),28.755,
					 RGB(150,50,150),536,0,0,g_pTethysTexture,NULL,g_pTethysMediumTexture)  ;
 AddSolarPlanettoDB("Dione",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*2.736915),377400,0.02,173.999,57.741,0.0022,GetEpochDifferenceinSeconds(1999,1,1),109.204,
					RGB(150,50,150),560,0,0,g_pDioneTexture,NULL,g_pDioneMediumTexture)  ;
 AddSolarPlanettoDB("Rhea",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*4.517500),527040,0.35,205.869,1.095,0.0010,GetEpochDifferenceinSeconds(1999,1,1),238.732,
				   RGB(150,50,150),764,0,0,g_pRheaTexture,NULL,g_pRheaMediumTexture)  ;
 AddSolarPlanettoDB("Titan",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*15.945421),1221830,0.33,172.749,44.046,0.0292,GetEpochDifferenceinSeconds(1999,1,1),192.132,
					RGB(150,50,150),2575,0,0,g_pTitanTexture,NULL,g_pTitanMediumTexture,NULL,NULL,0,1,g_pTitanAtmosphereTexture)  ;
 AddSolarPlanettoDB("Hyperion",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*21.276609),1481100,0.43,262.058,273.863,0.1042,GetEpochDifferenceinSeconds(1999,1,1),52.956,
					   RGB(150,50,150),185,0,0,NULL,Hyperion_Small_Heights,NULL,Hyperion_Large_Heights)  ;
 AddSolarPlanettoDB("Iapetus",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*79.330183),3561300,14.72,275.850,75.583,0.0283,GetEpochDifferenceinSeconds(1999,1,1),350.306,
					  RGB(150,50,150),718,0,0,g_pIapetusTexture,NULL,g_pIapetusMediumTexture)  ;
 AddSolarPlanettoDB("Pan",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*0.5750),133583,0,0,0,0,GetEpochDifferenceinSeconds(1981,7,1),122.072,
				  RGB(150,50,150),10)  ;
 AddSolarPlanettoDB("Atlas",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*0.6019),137670,0.3,0,0,0,GetEpochDifferenceinSeconds(1981,7,1),186.541,
					RGB(150,50,150),18.5)  ;
  AddSolarPlanettoDB("Prometheus",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*0.6130),139353,0,212.854,0,0.0024,GetEpochDifferenceinSeconds(1981,7,1),335.684,
	 RGB(150,50,150),74,0,0,NULL,Prometheus_Small_Heights,NULL,Prometheus_Large_Heights)  ;
  AddSolarPlanettoDB("Pandora",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*0.6285),141700,0,68.229,0,0.0042,GetEpochDifferenceinSeconds(1981,7,1),13.918,
	 RGB(150,50,150),55)  ;
  AddSolarPlanettoDB("Epimetheus",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*0.6942),151422,0.34,100.866,335.006,0.009,GetEpochDifferenceinSeconds(1981,7,1),55.972,
	 RGB(150,50,150),69,0,0,NULL,Epimetheus_Small_Heights)  ;
  AddSolarPlanettoDB("Janus",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*0.6945),151472,0.14,27.852,303.797,0.007,GetEpochDifferenceinSeconds(1981,7,1),236.455,
	 RGB(150,50,150),97,0,0,g_pJanusTexture,Janus_Small_Heights,g_pJanusMediumTexture,Janus_Large_Heights)  ;
  AddSolarPlanettoDB("Calypso",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*1.8878),294660,0,43.640,209.184,0,GetEpochDifferenceinSeconds(1981,7,1),201.815,
	 RGB(150,50,150),15)  ;
  AddSolarPlanettoDB("Telesto",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*1.8878),294660,0,80.729,126.124,0,GetEpochDifferenceinSeconds(1981,7,1),7.907,
	 RGB(150,50,150),15)  ;
  AddSolarPlanettoDB("Helene",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*2.7369),377400,0,80.357,10.214,0.005,GetEpochDifferenceinSeconds(1981,7,1),10.033,
	 RGB(150,50,150),18)  ;
  AddSolarPlanettoDB("Phoebe",GetPlanetByName(&planetanchor,"Saturn"),3600*24*550.48,12952000,175.3,337.537,237.143,0.1633,GetEpochDifferenceinSeconds(1999,1,1),174.569,
	 RGB(150,50,150),115,0.4,0,g_pPhoebeTexture,NULL,g_pPhoebeMediumTexture)  ;
  AddSolarPlanettoDB("Ymiir",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*1312),23100000,173.1,22.684,173.104,0.33,GetEpochDifferenceinSeconds(2000,2,26),244.128,
	 RGB(150,50,150),8)  ;
  AddSolarPlanettoDB("Paaliaq",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*687),15200000,47.2,238.857,45.077,0.36,GetEpochDifferenceinSeconds(2000,2,26),351.882,
	 RGB(150,50,150),10)  ;
  AddSolarPlanettoDB("Siarnaq",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*893),18160000,45.6,65.495,45.539,0.29,GetEpochDifferenceinSeconds(2000,2,26),225.754,
	 RGB(150,50,150),16)  ;
  AddSolarPlanettoDB("Tarvos",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*926),18240000,34.9,273.666,33.495,0.54,GetEpochDifferenceinSeconds(2000,2,26),282.342,
	 RGB(150,50,150),7)  ;
  AddSolarPlanettoDB("Kiviuq",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*449),11370000,48.7,83.043,46.148,0.33,GetEpochDifferenceinSeconds(2000,2,26),221.005,
	 RGB(150,50,150),7)  ;
  AddSolarPlanettoDB("Ijiraq",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*451),11440000,49.1,85.523,46.730,0.32,GetEpochDifferenceinSeconds(2000,2,26),64.495,
	 RGB(150,50,150),5)  ;
  AddSolarPlanettoDB("Thrym",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*1089),20470000,175.0,62.518,175.815,0.47,GetEpochDifferenceinSeconds(2000,2,26),63.027,
	 RGB(150,50,150),3)  ;
  AddSolarPlanettoDB("Skadi",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*729),15650000,148.5,201.882,152.621,0.27,GetEpochDifferenceinSeconds(2000,2,26),148.583,
	 RGB(150,50,150),3)  ;
  AddSolarPlanettoDB("Mundilfari",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*951),18710000,169.4,309.948,167.476,0.21,GetEpochDifferenceinSeconds(2000,2,26),106.167,
	 RGB(150,50,150),3)  ;
  AddSolarPlanettoDB("Erriapo",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*871),17610000,33.5,281.776,34.469,0.47,GetEpochDifferenceinSeconds(2000,2,26),322.166,
	 RGB(150,50,150),4)  ;
  AddSolarPlanettoDB("Albiorix",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*738),16390000,34.0,55.454,33.979,0.48,GetEpochDifferenceinSeconds(2000,2,26),58.812,
	 RGB(150,50,150),13)  ;
  AddSolarPlanettoDB("Suttung",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*1017),19470000,175.8,35.650,175.811,0.11,GetEpochDifferenceinSeconds(2000,2,26),340.300,
	 RGB(150,50,150),3)  ;
  AddSolarPlanettoDB("S2003_S1",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*956),18720000,134.6,178.540,182.340,0.35,GetEpochDifferenceinSeconds(2003,6,10),203.684,
	 RGB(150,50,150),3)  ;
  AddSolarPlanettoDB("S2004_S1",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*1.01),194000,0,0,0,0,EpochDifferenceinSeconds,0,
	 RGB(150,50,150),3)  ;
  AddSolarPlanettoDB("S2004_S2",GetPlanetByName(&planetanchor,"Saturn"),(3600*24*1.14),211000,0,0,0,0,EpochDifferenceinSeconds,0,
	 RGB(150,50,150),4)  ;

*/

	Miranda:{Texture:"https://mp1233.github.io/bg/img/miranda.jpg", size:{radius:240}, orbit:{radius:129900, period:(3600*24*1.413479)}, rotates_around:"Uranus"},
	Ariel:{Texture:"https://mp1233.github.io/bg/img/ariel.jpg", size:{radius:581.1}, orbit:{radius:190900, period:(3600*24*2.520379)}, rotates_around:"Uranus"},
	Umbriel:{Texture:"https://mp1233.github.io/bg/img/umbriel.jpg", size:{radius:584.7}, orbit:{radius:266000, period:(3600*24*4.144177)}, rotates_around:"Uranus"},
	Titania:{Texture:"https://mp1233.github.io/bg/img/titania.jpg", size:{radius:788.9}, orbit:{radius:436300, period:(3600*24*8.705872)}, rotates_around:"Uranus"},
	Oberon:{Texture:"https://mp1233.github.io/bg/img/oberon.jpg", size:{radius:761.4}, orbit:{radius:583500, period:(3600*24*13.463239)}, rotates_around:"Uranus"},
	Portia:{Texture:"https://mp1233.github.io/bg/img/portia.jpg", size:{radius:68}, orbit:{radius:66100, period:(3600*24*0.513196)}, rotates_around:"Uranus"},
	Puck:{Texture:"https://mp1233.github.io/bg/img/puck.jpg", size:{radius:81}, orbit:{radius:86000, period:(3600*24*0.761833)}, rotates_around:"Uranus"},
	Sycorax:{Texture:"https://mp1233.github.io/bg/img/sycorax.jpg", size:{radius:95}, orbit:{radius:12179000, period:(3600*24*1283.4)}, rotates_around:"Uranus"},


/*
AddSolarPlanettoDB("Miranda",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*1.413479),129900,4.22,68.312,326.438,0.0027,GetEpochDifferenceinSeconds(1980,1,1),311.330,
	 RGB(200,200,250),240,0,0,g_pMirandaTexture,NULL,g_pMirandaMediumTexture) ;
  AddSolarPlanettoDB("Ariel",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*2.520379),190900,0.31,115.349,22.394,0.0034,GetEpochDifferenceinSeconds(1980,1,1),39.481,
	 RGB(200,200,250),581.1,0,0,g_pArielTexture,NULL,g_pArielMediumTexture) ;
  AddSolarPlanettoDB("Umbriel",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*4.144177),266000,0.36,84.709,33.485,0.0050,GetEpochDifferenceinSeconds(1980,1,1),12.469,
	 RGB(200,200,250),584.7,0,0,g_pUmbrielTexture,NULL,g_pUmbrielMediumTexture) ;
  AddSolarPlanettoDB("Titania",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*8.705872),436300,0.14,284.400,99.771,0.0022,GetEpochDifferenceinSeconds(1980,1,1),24.614,
	 RGB(200,200,250),788.9) ;
  AddSolarPlanettoDB("Oberon",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*13.463239),583500,0.10,104.400,279.771,0.0008,GetEpochDifferenceinSeconds(1980,1,1),283.088,
	 RGB(200,200,250),761.4,0,0,g_pOberonTexture,NULL,g_pOberonMediumTexture) ;
  AddSolarPlanettoDB("Cordelia",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.335034),49800,0.08,136.827,38.374,0.0003,GetEpochDifferenceinSeconds(1986,1,19.5),254.805,
	 RGB(200,200,250),20) ;
  AddSolarPlanettoDB("Ophelia",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.376400),53800,0.10,17.761,164.048,0.0099,GetEpochDifferenceinSeconds(1986,1,19.5),116.259,
	 RGB(200,200,250),21) ;
  AddSolarPlanettoDB("Bianca",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.434579),59200,0.19,8.293,93.220,0.0009,GetEpochDifferenceinSeconds(1986,1,19.5),138.486,
	 RGB(200,200,250),27) ;
  AddSolarPlanettoDB("Cressida",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.463570),61800,0.01,44.236,99.403,0.0004,GetEpochDifferenceinSeconds(1986,1,19.5),233.795,
	 RGB(200,200,250),40) ;
  AddSolarPlanettoDB("Desdemona",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.473650),62700,0.11,183.285,306.089,0.0001,GetEpochDifferenceinSeconds(1986,1,19.5),184.627,
	 RGB(200,200,250),32) ;
  AddSolarPlanettoDB("Juliet",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.493065),64400,0.07,223.819,200.155,0.0007,GetEpochDifferenceinSeconds(1986,1,19.5),244.696,
	 RGB(200,200,250),47) ;
  AddSolarPlanettoDB("Portia",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.513196),66100,0.06,222.433,260.067,0,GetEpochDifferenceinSeconds(1986,1,19.5),218.312,
	 RGB(200,200,250),68) ;
  AddSolarPlanettoDB("Rosalind",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.558460),69900,0.28,140.477,12.847,0.0001,GetEpochDifferenceinSeconds(1986,1,19.5),136.181,
	 RGB(200,200,250),36) ;
  AddSolarPlanettoDB("Belinda",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.623527),75300,0.03,42.406,279.337,0.0001,GetEpochDifferenceinSeconds(1986,1,19.5),357.224,
	 RGB(200,200,250),40) ;
  AddSolarPlanettoDB("Puck",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.761833),86000,0.32,177.094,268.734,0.0001,GetEpochDifferenceinSeconds(1986,1,19.5),245.796,
	 RGB(200,200,250),81) ;
  AddSolarPlanettoDB("Caliban",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*579.5),7231000,140.88,342.817,163.845,0.159,GetEpochDifferenceinSeconds(2004,7,14),325.188,
	 RGB(200,200,250),48) ;
  AddSolarPlanettoDB("Stephano",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*676.5),8004000,144.06,19.024,188.561,0.230,GetEpochDifferenceinSeconds(2004,7,14),65.156,
	 RGB(200,200,250),10) ;
  AddSolarPlanettoDB("Sycorax",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*1283.4),12179000,159.40,21.291,261.915,0.522,GetEpochDifferenceinSeconds(2004,7,14),8.788,
	 RGB(200,200,250),95) ;
  AddSolarPlanettoDB("Prospero",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*1992.8),16256000,151.91,175.554,318.599,0.443,GetEpochDifferenceinSeconds(2004,7,14),187.893,
	 RGB(200,200,250),15) ;
  AddSolarPlanettoDB("Setebos",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*2202.3),17418000,158.17,1.539,249.456,0.588,GetEpochDifferenceinSeconds(2004,7,14),93.328,
	 RGB(200,200,250),15) ;
  AddSolarPlanettoDB("Trinculo",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*758.1),8504000,166.33,159.773,192.806,0.208,GetEpochDifferenceinSeconds(2004,7,14),255.448,
	 RGB(200,200,250),5) ;
  AddSolarPlanettoDB("S1986_U10",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.638),76400,0,0,0,0,EpochDifferenceinSeconds,0,
	 RGB(200,200,250),40) ;
  AddSolarPlanettoDB("S2001_U2",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*2823.4),20901000,167.3,159.568,216.431,0.426,GetEpochDifferenceinSeconds(2004,7,14),234.514,
	 RGB(200,200,250),6) ;
  AddSolarPlanettoDB("S2001_U3",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*266.6),4276000,145.2,124.720,93.135,0.146,GetEpochDifferenceinSeconds(2004,7,14),90.868,
	 RGB(200,200,250),6) ;
  AddSolarPlanettoDB("S2003_U1",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.923),97700,0,0,0,0,EpochDifferenceinSeconds,0,
	 RGB(200,200,250),16) ;
  AddSolarPlanettoDB("S2003_U2",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*0.618),74800,0,0,0,0,EpochDifferenceinSeconds,0,
	 RGB(200,200,250),12) ;
  AddSolarPlanettoDB("S2003_U3",GetPlanetByName(&planetanchor,"Uranus"),(3600*24*1694.8),14345000,56.6,89.354,3.535,0.661,GetEpochDifferenceinSeconds(2004,7,14),322.440,
	 RGB(200,200,250),6) ;
*/

	Naiad:{Texture:"https://mp1233.github.io/bg/img/naiad.jpg", size:{radius:48}, orbit:{radius:48227, period:(3600*24*0.294396)}, rotates_around:"Neptune"},
	Thalassa:{Texture:"https://mp1233.github.io/bg/img/thalassa.jpg", size:{radius:54}, orbit:{radius:50075, period:(3600*24*0.311485)}, rotates_around:"Neptune"},
	Despina:{Texture:"https://mp1233.github.io/bg/img/despina.jpg", size:{radius:90}, orbit:{radius:52526, period:(3600*24*0.334655)}, rotates_around:"Neptune"},
	Galatea:{Texture:"https://mp1233.github.io/bg/img/galatea.jpg", size:{radius:102}, orbit:{radius:61953, period:(3600*24*0.428745)}, rotates_around:"Neptune"},
	Larissa:{Texture:"https://mp1233.github.io/bg/img/larissa.jpg", size:{radius:108}, orbit:{radius:73548, period:(3600*24*0.554654)}, rotates_around:"Neptune"},
	Proteus:{Texture:"https://mp1233.github.io/bg/img/proteus.jpg", size:{radius:220}, orbit:{radius:117647, period:(3600*24*1.122315)}, rotates_around:"Neptune"},
	Triton:{Texture:"https://mp1233.github.io/bg/img/triton.jpg", size:{radius:1353}, orbit:{radius:354760, period:(3600*24*5.876854)}, rotates_around:"Neptune"},
	Nereid:{Texture:"https://mp1233.github.io/bg/img/nereid.jpg", size:{radius:170}, orbit:{radius:5513400, period:(3600*24*360.13619)}, rotates_around:"Neptune"},

/*
 AddSolarPlanettoDB("Naiad",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*0.294396),48227,4.74,31.733,56.438,0.0003,GetEpochDifferenceinSeconds(1989,8,18.5),339.933,
	 RGB(100,100,250),48) ;
  AddSolarPlanettoDB("Thalassa",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*0.311485),50075,0.21,323.125,98.094,0.0002,GetEpochDifferenceinSeconds(1989,8,18.5),186.362,
	 RGB(100,100,250),54) ;
  AddSolarPlanettoDB("Despina",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*0.334655),52526,0.07,293.365,159.496,0.0001,GetEpochDifferenceinSeconds(1989,8,18.5),0.253,
	 RGB(100,100,250),90) ;
  AddSolarPlanettoDB("Galatea",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*0.428745),61953,0.05,27.468,125.707,0.0001,GetEpochDifferenceinSeconds(1989,8,18.5),261.313,
	 RGB(100,100,250),102) ;
  AddSolarPlanettoDB("Larissa",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*0.554654),73548,0.20,138.073,17.588,0.0014,GetEpochDifferenceinSeconds(1989,8,18.5),37.004,
	 RGB(100,100,250),108) ;
  AddSolarPlanettoDB("Proteus",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*1.122315),117647,0.04,301.706,162.690,0.0004,GetEpochDifferenceinSeconds(1989,8,18.5),117.050,
	 RGB(100,100,250),220,0,0,NULL,Proteus_Small_Heights,NULL,Proteus_Large_Heights) ;
  AddSolarPlanettoDB("Triton",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*5.876854),354760,157.345,344.046,172.431,0.000016,GetEpochDifferenceinSeconds(1989,8,25),264.775,
	 RGB(100,100,250),1353.4,0,0,g_pTritonTexture,NULL,g_pTritonMediumTexture) ;
  AddSolarPlanettoDB("Nereid",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*360.13619),5513400,7.23,280.830,334.762,0.7512,GetEpochDifferenceinSeconds(1989,8,25),359.341,
	 RGB(100,100,250),170) ;
  AddSolarPlanettoDB("S2002N1",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*1874.8),15686000,134.1,159.729,202.989,0.572,GetEpochDifferenceinSeconds(2003,6,10),96.399,
	 RGB(100,100,250),24) ;
  AddSolarPlanettoDB("S2002N2",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*2918.9),22452000,48.4,79.334,55.532,0.297,GetEpochDifferenceinSeconds(2003,6,10),207.083,
	 RGB(100,100,250),24) ;
  AddSolarPlanettoDB("S2002N3",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*2982.3),22580000,34.6,142.395,60.693,0.479,GetEpochDifferenceinSeconds(2003,6,10),328.589,
	 RGB(100,100,250),24) ;
  AddSolarPlanettoDB("S2002N4",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*8863.1),46570000,132.5,89.330,49.985,0.527,GetEpochDifferenceinSeconds(2003,6,10),269.829,
	 RGB(100,100,250),30) ;
  AddSolarPlanettoDB("S2003N1",GetPlanetByName(&planetanchor,"Neptune"),(3600*24*9136.1),46738000,137.3,145.905,300.968,0.450,GetEpochDifferenceinSeconds(2003,6,10),206.165,
	 RGB(100,100,250),14) ;
*/

	Pluto:{Texture:"https://mp1233.github.io/bg/img/pluto.jpg", size:{radius:1137}, orbit:{radius:20000, period:(3600*24*6.3872)}, rotates_around:"PlutoSystem"},
	Charon:{Texture:"https://mp1233.github.io/bg/img/charon.jpg", size:{radius:593}, orbit:{radius:-19410, period:(3600*24*6.3872)}, rotates_around:"PlutoSystem"},


/*
AddSolarPlanettoDB("Pluto",GetPlanetByName(&planetanchor,"Pluto system"),(3600*24*6.3872),20000,99.089,209.793,223.015,0,GetEpochDifferenceinSeconds(1986,6,19),79.960,RGB(100,10,10),1137,6.3872,118.5) ;
AddSolarPlanettoDB("Charon",GetPlanetByName(&planetanchor,"Pluto system"),(3600*24*6.3872),19410,99.089,209.793,223.015,0.0002,GetEpochDifferenceinSeconds(1986,6,19),259.960,RGB(100,100,100),593,6.3872) ;

*/


}

var PLANETS_SCENE = {}
var PLANETS_TEXTURE = {}

var TimerNum = 0 ; 



			let bloomPass, adaptToneMappingPass, ldrToneMappingPass, hdrToneMappingPass;
			let params;

			let camera, scene, renderer, dynamicHdrEffectComposer, hdrEffectComposer, ldrEffectComposer;
			let cameraCube, sceneCube;
			let cameraBG, debugScene;
			let adaptiveLuminanceMat, currentLuminanceMat;

			let directionalLight;
			let ambLight;

			let orbitControls;

			let windowHalfX = window.innerWidth / 2;
			let windowHalfY = window.innerHeight / 2;

			let windowThirdX = window.innerWidth / 3;


let iapetusMesh ; 




			init();
			animate();

			function init() {




var _visible_layers = {}
var spanInnerHtml = "<h3>Select Planet, chose lat,lon and click Submit:</h3>"
for (var eachcell in PLANETS_DATA) {
	var _tempstr = '"'+eachcell+'"' ; 

	///HTML_MRISLICESS_LIST[eachcell] = 0
	spanInnerHtml = spanInnerHtml + "<input type='radio' name='chptr' value='Cell' onclick='UpdateBookChaptersCheckList("+_tempstr+")'><label><font color=#ffffff>" + eachcell + "</font></label><br>"

}
document.getElementById('myspan4').innerHTML = spanInnerHtml ;





				params = {
					bloomAmount: 1.0,
					sunLight: 4.0,

					enabled: true,
					avgLuminance: 0.7,
					middleGrey: 0.04,
					maxLuminance: 16,

					adaptionRate: 2.0
				};

				const container = document.createElement( 'div' );
				document.body.appendChild( container );

				// CAMERAS

				camera = new THREE.PerspectiveCamera( 70, 1, 0.1, 10000000 );
				camera.position.x = 0.001//700;
				camera.position.y = 0.0//400;
				camera.position.z = 0.0// 800;
				///cameraCube = new THREE.PerspectiveCamera( 70, windowThirdX / window.innerHeight, 1, 100000 );

				//cameraBG = new THREE.OrthographicCamera( - windowHalfX, windowHalfX, windowHalfY, - windowHalfY, - 10000, 10000 );
				//cameraBG.position.z = 100;

				orbitControls = new OrbitControls( camera, container );
				///orbitControls.autoRotate = true;
				///orbitControls.autoRotateSpeed = 1;

				//controls.maxPolarAngle = Math.PI * 2.0;
				//controls.minDistance = 100;
				//controls.maxDistance = 5000;


				// SCENE

				scene = new THREE.Scene();
				sceneCube = new THREE.Scene();
				debugScene = new THREE.Scene();

				// LIGHTS

				const ambient = new THREE.AmbientLight( 0x050505 );
				scene.add( ambient );

				const ambLight = new THREE.AmbientLight( 0xffffff ); // soft white light
scene.add( ambLight );

				directionalLight = new THREE.DirectionalLight( 0xffffff, params.sunLight );
				directionalLight.position.set( 2, 0, 10 ).normalize();
				scene.add( directionalLight );

				const atmoShader = {
					side: THREE.BackSide,
					// blending: THREE.AdditiveBlending,
					transparent: true,
					lights: true,
					uniforms: THREE.UniformsUtils.merge( [

						THREE.UniformsLib[ "common" ],
						THREE.UniformsLib[ "lights" ]

					] ),


				};












				const textureLoader = new THREE.TextureLoader();




/*var PLANETS_DATA = {
	Saturn: {Texture:"https://mp1233.github.io/bg/img/saturn.jpg", size:{radius:60}, orbit:{radius:0}},
	Iapetus:{Texture:"https://mp1233.github.io/bg/img/iapetus.jpg", size:{radius:6}, orbit:{radius:500}},
}

var PLANETS_SCENE = {}
var PLANETS_TEXTURE = {}*/
for (var each in PLANETS_DATA) {
console.log(each)


			const currPLANETS_TEXTURE = new THREE.MeshPhongMaterial( {
					color: 0xffffff,
					shininess: 200
				} );
				///const textureLoader = new THREE.TextureLoader();
				const currtext = PLANETS_DATA[each].Texture
				textureLoader.load( currtext, function ( tex ) {

					currPLANETS_TEXTURE.map = tex;
					currPLANETS_TEXTURE.map.encoding = THREE.sRGBEncoding;
					currPLANETS_TEXTURE.needsUpdate = true;

				} );


				var tempGeo = new THREE.SphereGeometry( PlanetRadiusMultiply*PLANETS_DATA[each].size.radius, 24, 24 );
				///console.log(PLANETS_TEXTURE)
				PLANETS_SCENE[each] = new THREE.Mesh( tempGeo, currPLANETS_TEXTURE );
				//PLANETS_SCENE[each].matrix.elements[0] = 0.1
				///PLANETS_SCENE[each].scale.x = 0.01
				///PLANETS_SCENE[each].updateProjectionMatrix
				scene.add( PLANETS_SCENE[each] );
console.log(PLANETS_SCENE[each])




}








				let quadBG = new THREE.Mesh( new THREE.PlaneGeometry( 0.1, 0.1 ), currentLuminanceMat );
				quadBG.position.z = - 500;
				quadBG.position.x = - window.innerWidth * 0.5 + window.innerWidth * 0.05;
				quadBG.scale.set( window.innerWidth, window.innerHeight, 1 );
				///debugScene.add( quadBG );

				quadBG = new THREE.Mesh( new THREE.PlaneGeometry( 0.1, 0.1 ), adaptiveLuminanceMat );
				quadBG.position.z = - 500;
				quadBG.position.x = - window.innerWidth * 0.5 + window.innerWidth * 0.15;
				quadBG.scale.set( window.innerWidth, window.innerHeight, 1 );
				///debugScene.add( quadBG );


				renderer = new THREE.WebGLRenderer();
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				renderer.autoClear = false;

				container.appendChild( renderer.domElement );

				// let width = window.innerWidth || 1;
				const height = window.innerHeight || 1;

				const parameters = { minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat };
				const regularRenderTarget = new THREE.WebGLRenderTarget( windowThirdX, height, parameters );
				ldrEffectComposer = new EffectComposer( renderer, regularRenderTarget );

				parameters.type = THREE.FloatType;

				if ( renderer.capabilities.isWebGL2 === false && renderer.extensions.has( 'OES_texture_half_float_linear' ) === false ) {

					parameters.type = undefined; // avoid usage of floating point textures

				}

				const hdrRenderTarget = new THREE.WebGLRenderTarget( windowThirdX, height, parameters );
				dynamicHdrEffectComposer = new EffectComposer( renderer, hdrRenderTarget );
				dynamicHdrEffectComposer.setSize( window.innerWidth, window.innerHeight );
				hdrEffectComposer = new EffectComposer( renderer, hdrRenderTarget );

				const scenePass = new RenderPass( scene, camera, undefined, undefined, undefined );






				///ldrEffectComposer.addPass( skyboxPass );
				ldrEffectComposer.addPass( scenePass );





				window.addEventListener( 'resize', onWindowResize );

			}

			function onWindowResize() {

				windowHalfX = window.innerWidth / 2;
				windowHalfY = window.innerHeight / 2;
				windowThirdX = window.innerWidth / 3;

				///camera.aspect = windowThirdX / window.innerHeight;
				camera.updateProjectionMatrix();



				renderer.setSize( window.innerWidth, window.innerHeight );

			}

			function animate() {

				requestAnimationFrame( animate );




				directionalLight.intensity = params.sunLight;

				orbitControls.update();

				///console.log("aaaaaaaaaaaaaaaaaaaaaaaaa")

				render();

			}

			function render() {



TimerNum = TimerNum+1






function GetUserLocation(_UserLocation, _TimerNum) {

	var ret = {x:0, y:0, z:0}
	/*var _PLANETS_DATA=PLANETS_DATA[_UserLocation.planet]
	if (_PLANETS_DATA.orbit.radius > 0) {
ret.x = OrbitRadiusMultiply*_PLANETS_DATA.orbit.radius*Math.sin(TimerMultiply*TimerNum/_PLANETS_DATA.orbit.period) ; 
ret.y = OrbitRadiusMultiply*_PLANETS_DATA.orbit.radius*Math.cos(TimerMultiply*TimerNum/_PLANETS_DATA.orbit.period) ; 
}*/

///console.log(PLANETS_XYZ[_UserLocation.planet])
if (PLANETS_XYZ[_UserLocation.planet]) {
ret =  PLANETS_XYZ[_UserLocation.planet]
}
	return ret
}

function GetPlanetXYZ(_PLANETS_DATA, _TimerNum) {
var curr_rotation_planet_xyz = {x:0, y:0, z:0}
if (_PLANETS_DATA.rotates_around) {curr_rotation_planet_xyz = PLANETS_XYZ[_PLANETS_DATA.rotates_around]}
//console.log(curr_rotation_planet_xyz)
	var ret = {x:0, y:0, z:0}
	if (_PLANETS_DATA.orbit.radius > 0) {
ret.x = curr_rotation_planet_xyz.x + OrbitRadiusMultiply*_PLANETS_DATA.orbit.radius*Math.sin(TimerMultiply*TimerNum/_PLANETS_DATA.orbit.period) ; 
ret.y = curr_rotation_planet_xyz.y + OrbitRadiusMultiply*_PLANETS_DATA.orbit.radius*Math.cos(TimerMultiply*TimerNum/_PLANETS_DATA.orbit.period) ; 
}
	return ret
}

/*var PLANETS_DATA = {
	Saturn: {Texture:"https://mp1233.github.io/bg/img/saturn.jpg", size:{radius:60}, orbit:{radius:0}},
	Iapetus:{Texture:"https://mp1233.github.io/bg/img/iapetus.jpg", size:{radius:6}, orbit:{radius:500}},
}

var PLANETS_SCENE = {}
var PLANETS_TEXTURE = {}*/

var currentUsepLocationXYZ = GetUserLocation(UserLocation, TimerNum)


if (FlightTimeToDestination > 0 ) {
FlightTimeToDestination = FlightTimeToDestination - 1 ; 
console.log(FlightTimeToDestination)
var nextXYZ = GetUserLocation(UserLocation, TimerNum)
var prevXYZ = GetUserLocation(PrevUserLocation, TimerNum)
currentUsepLocationXYZ = {x:(nextXYZ.x + ((prevXYZ.x -nextXYZ.x)*FlightTimeToDestination/FlightTime )), y:(nextXYZ.y + ((prevXYZ.y -nextXYZ.y)*FlightTimeToDestination/FlightTime )), z:(nextXYZ.z + ((prevXYZ.z -nextXYZ.z)*FlightTimeToDestination/FlightTime )), }
}




///console.log(currentUsepLocationXYZ)

for (var each in PLANETS_SCENE) {
	var curr_planet_XYZ = GetPlanetXYZ(PLANETS_DATA[each], TimerNum)

	PLANETS_XYZ[each] = curr_planet_XYZ ; 
PLANETS_SCENE[each].position.x = curr_planet_XYZ.x - currentUsepLocationXYZ.x///PLANETS_DATA[each].orbit.radius*Math.sin(TimerNum/100) ; 
PLANETS_SCENE[each].position.z = curr_planet_XYZ.y - currentUsepLocationXYZ.y ///PLANETS_DATA[each].orbit.radius*Math.cos(TimerNum/100) ; 


if ((each == UserLocation.planet) && (FlightTimeToDestination == 0)) {
///console.log(each, FlightTimeToDestination)
	PLANETS_SCENE[each].position.x = -99999999999999999999999 ; 
PLANETS_SCENE[each].position.z = -99999999999999999999 ; 
}

var curr_planetAngle = Math.atan2(PLANETS_SCENE[each].position.x, PLANETS_SCENE[each].position.z)
///if (each == "Earth") {console.log(curr_planetAngle)}


				//PLANETS_SCENE[each].scale.x = 0.01
				//PLANETS_SCENE[each].updateProjectionMatrix
								///PLANETS_SCENE[each].rotateY(0.1)
var rotationMatrix = new THREE.Matrix4();
/*rotationMatrix[0] = Math.cos(curr_planetAngle)
rotationMatrix[2] = -Math.sin(curr_planetAngle)
rotationMatrix[4] = Math.sin(curr_planetAngle)
rotationMatrix[6] = Math.cos(curr_planetAngle)*/


/////////////
//ZOOM IN PLANETS



//TODO only if dist < rad

var CameradistToPlanet = Math.sqrt((PLANETS_SCENE[each].position.x *PLANETS_SCENE[each].position.x ) + (PLANETS_SCENE[each].position.y * PLANETS_SCENE[each].position.y )) ; 
var CameraPlanetRadius = PlanetRadiusMultiply*PLANETS_DATA[each].size.radius ; 







if (CameradistToPlanet < CameraPlanetRadius) {
				PLANETS_SCENE[each].scale.x = 0.01
				PLANETS_SCENE[each].updateProjectionMatrix

PLANETS_SCENE[each].setRotationFromMatrix(rotationMatrix)
				PLANETS_SCENE[each].updateProjectionMatrix
PLANETS_SCENE[each].rotateY(curr_planetAngle+1.57)

				PLANETS_SCENE[each].updateProjectionMatrix


			

} else {
				PLANETS_SCENE[each].scale.x = 1
				PLANETS_SCENE[each].updateProjectionMatrix

}}


				///console.log("aaaaaaaaaaaaaaaaaaaaaaaaa", iapetusMesh)



directionalLight.position.set(- currentUsepLocationXYZ.x, 0, - currentUsepLocationXYZ.y ).normalize();



				camera.lookAt( scene.position );
				

				///renderer.setViewport( 0, 0, windowThirdX, window.innerHeight );
				ldrEffectComposer.render( 0.017 );



			}




















    window.addEventListener('hello2' , e=> {
console.log(e)
        switch(e.detail.alert_function){

           case 'UpdateBookChaptersCheckList':

            ChangeSchematicColor(e.detail.alert_param)
             break;

        }
    })
    function ChangeSchematicColor(_item) {

console.log(_item)
PrevUserLocation.planet =UserLocation.planet 
        UserLocation.planet =_item
FlightTimeToDestination = FlightTime ; 



    }












		</script>





<script>
function UpdateBookChaptersCheckList(_item) {
console.log("new version of html sht")
let event = new CustomEvent("hello2", {
 detail: { alert_function: "UpdateBookChaptersCheckList", alert_param: _item },
  bubbles: true,
  cancelable: true,
  clientX: 100,
  clientY: 100
});
  UpdateNeuronsButton.dispatchEvent(event);
}

</script>




<div style="top:120; width:200; position:relative;  z-index:1000;"><button  id="UpdateNeuronsButton" onclick="UpdateNeurons()">Submit</button>
<table><tr>

<td>
<div id="myspan" style="overflow-y:scroll; width:300px; height:200px; position:relative;  z-index:1000; user-select: none;"> hereismytext </div>
</td>
<td style="width:200px;">
<div id="myspan2" style="overflow-y:scroll; width:200px; height:200px; position: relative;  z-index:1000; user-select: none;"> hereismytext </div>
</td>
<td style="width:200px;">
<div id="myspan3" style="overflow-y:scroll; width:200px; height:200px; position: relative;  z-index:1000; user-select: none;"> hereismytext </div>
</td>

<td style="width:200px;">
<div id="myspan4" style="overflow-y:scroll; width:600px; height:200px; position: relative;  z-index:1000; user-select: none;"> hereismytext </div>
</td>
</tr></table>



	</body>
</html>